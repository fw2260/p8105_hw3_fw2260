Homework 3
================
Lily Wang
10/4/2020

This is my solution to Homework 3.

``` r
library(tidyverse)
```

    ## -- Attaching packages ---------------------------- tidyverse 1.3.0 --

    ## v ggplot2 3.3.2     v purrr   0.3.4
    ## v tibble  3.0.3     v dplyr   1.0.2
    ## v tidyr   1.1.2     v stringr 1.4.0
    ## v readr   1.3.1     v forcats 0.5.0

    ## -- Conflicts ------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(p8105.datasets)
```

## Problem 1

Load and clean dataset:

``` r
data("instacart")
```

The `instacart` dataset contains information on online grocery orders
from users of Instacart, an online grocery service that allows you to
shop online from local stores. Specifically, there are variables of the
IDs of orders, products, and users, when the order was placed, how many
days passed since the last order, the name of the products ordered, and
what aisle and department they were from. The dataset has 1384617 rows
and 15 columns.

## Problem 2

``` r
accel_df <- read_csv("./data/accel_data.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    starts_with("activity_"),
    names_to = "activity",
    names_prefix = "activity_",
    values_to = "counts"
  ) %>% 
  mutate(day = as.factor(day)) %>% 
  mutate(day = fct_relevel(day, c("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"))) %>% 
  arrange(week, day)
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_double(),
    ##   day = col_character()
    ## )

    ## See spec(...) for full column specifications.

The current dataset is accelerometer data of a 63-year-old male who was
admitted to the Advanced Cardiac Care Center of Columbia University
Medical Center and diagnosed with congestive heart failure (CHF). The
accelerometer measures the wearerâ€™s activity at each minute of a 24-hour
day starting at midnight. The dataset contains 50400 rows and 5 columns.

Aggregate across minutes to create a total activity variable for each
day:

``` r
accel_df %>% 
  group_by(week, day) %>% 
  summarize(
    total_activity = sum(counts)) %>% 
  knitr::kable(digits = 0)
```

    ## `summarise()` regrouping output by 'week' (override with `.groups` argument)

| week | day       | total\_activity |
| ---: | :-------- | --------------: |
|    1 | Sunday    |          631105 |
|    1 | Monday    |           78828 |
|    1 | Tuesday   |          307094 |
|    1 | Wednesday |          340115 |
|    1 | Thursday  |          355924 |
|    1 | Friday    |          480543 |
|    1 | Saturday  |          376254 |
|    2 | Sunday    |          422018 |
|    2 | Monday    |          295431 |
|    2 | Tuesday   |          423245 |
|    2 | Wednesday |          440962 |
|    2 | Thursday  |          474048 |
|    2 | Friday    |          568839 |
|    2 | Saturday  |          607175 |
|    3 | Sunday    |          467052 |
|    3 | Monday    |          685910 |
|    3 | Tuesday   |          381507 |
|    3 | Wednesday |          468869 |
|    3 | Thursday  |          371230 |
|    3 | Friday    |          467420 |
|    3 | Saturday  |          382928 |
|    4 | Sunday    |          260617 |
|    4 | Monday    |          409450 |
|    4 | Tuesday   |          319568 |
|    4 | Wednesday |          434460 |
|    4 | Thursday  |          340291 |
|    4 | Friday    |          154049 |
|    4 | Saturday  |            1440 |
|    5 | Sunday    |          138421 |
|    5 | Monday    |          389080 |
|    5 | Tuesday   |          367824 |
|    5 | Wednesday |          445366 |
|    5 | Thursday  |          549658 |
|    5 | Friday    |          620860 |
|    5 | Saturday  |            1440 |
